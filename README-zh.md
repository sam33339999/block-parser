# 專案目的

此專案旨在定義一套標準化的 JSON 結構，讓大型語言模型 (LLM) 能夠依循此結構來生成內容。透過這種方式，LLM 的任務被簡化為僅需提供核心內容及其「意圖」（例如，標示某段文字為一級標題，或指定某區塊採用兩欄式佈局）。而所有關於樣式和版面配置的具體實現細節（如 HTML/CSS 的編寫），則會交由前端的範本引擎，根據 LLM 輸出的 JSON 資料動態處理並呈現。

這種方法的核心優勢包括：

1.  **最小化 LLM 輸出**：LLM 僅需專注於內容和結構意圖（例如，這是一級標題、這是一個包含兩欄的佈局），無需處理複雜的表現層邏輯。
2.  **清晰的區塊類型 (Block Types)**：定義一組有限但能涵蓋多數需求的區塊類型，確保結構的一致性與可預測性。
3.  **資料驅動樣式**：樣式與佈局的具體實現（HTML/CSS）由前端範本引擎根據 LLM 輸出的 JSON 資料動態生成，實現內容與表現的分離。
4.  **指令清晰**：給予 LLM 的指令（prompt）需明確說明期望的 JSON 結構及可用的區塊類型，以確保輸出的準確性。

---

PROMPTS:

```txt
你好！你是一個內容生成助手。你的任務是根據我的要求生成內容，並將這些內容嚴格按照指定的 JSON 格式輸出。

請為我撰寫一篇關於 **[請在此處填寫您的主題]** 的文章。

**輸出格式要求：**

請將完整的輸出內容格式化為一個 JSON 物件。該 JSON 物件的根層級應包含一個 `document` 鍵，其值為一個包含以下內容的物件：
- `title` (可選): 字串，代表文章主標題。如果未提供，則可由第一個 `heading` 區塊決定。
- `blocks`: 一個陣列，其中每個元素都是一個描述內容區塊的 JSON 物件。

**區塊 (Block) 結構：**

每個內容區塊物件都必須包含以下兩個鍵：
1.  `type`: 字串，表示區塊的類型。
2.  `data`: 一個 JSON 物件，包含該區塊類型特定的數據。

**支援的區塊類型 (`type`) 及其 `data` 結構：**

1.  **`heading`** (標題)
    *   `data`:
        *   `level`: 數字，表示標題級別 (1 到 6)。
        *   `text`: 字串，標題的文字內容。
        *   `anchorId` (可選): 字串，用於文內錨點。如果未提供，系統可能會自動產生。

2.  **`paragraph`** (段落)
    *   `data`:
        *   `text`: 字串，段落的文字內容。
          - 字串中的 `\n` 會被轉換為換行。
          - 支援 Markdown 內聯格式，如 `**粗體**`、`****也是粗體****` 和 `*斜體*`。
          - 支援顏色標籤，如 `[color:red]文字[/color]`、`[bgColor:yellow]文字[/bgColor]` 或 `[color:red,bgColor:yellow]文字[/color]`。

3.  **`code`** (程式碼區塊)
    *   `data`:
        *   `language`: 字串，指定程式碼的語言 (例如："javascript", "python", "html")。
        *   `code`: 字串，實際的程式碼內容。

4.  **`mermaid`** (Mermaid 圖表)
    *   `data`:
        *   `code`: 字串，Mermaid 圖表的語法定義。

5.  **`table`** (表格)
    *   `data`:
        *   `hasHeader` (可選): 布林值 (true/false)，指示表格是否有表頭。建議 LLM 盡可能提供此欄位，若適用則設為 `true`。
        *   `headers`: 一個字串陣列，代表表頭的各個儲存格內容 (僅當 `hasHeader` 為 `true` 或預期有表頭時相關)。
        *   `rows`: 一個二維字串陣列。每個內部陣列代表表格的一行，其中每個元素是該行對應儲存格的字串內容。

6.  **`layoutColumns`** (同行多區塊並排 / 欄位佈局)
    *   `data`:
        *   `columnCount`: 數字，表示欄位的數量 (例如：2 或 3)。
        *   `distribution` (可選): 一個字串陣列，表示各欄位的寬度比例 (例如：`["50%", "50%"]`, `["1fr", "2fr"]`)。如果未提供，可使用均分。
        *   `columns`: 一個陣列，其長度應等於 `columnCount`。此陣列的每個元素本身又是一個**區塊物件的陣列**，代表該欄位内包含的內容區塊。這些內嵌的區塊物件同樣遵循本提示中定義的 `type` 和 `data` 結構。

7.  **`anchorLink`** (錨點/普通鏈接)
    *   `data`:
        *   `text`: 字串，鏈接顯示的文字。
        *   `href`: 字串，鏈接的目標地址。
            *   以 `#` 開頭 (例如：`#section1`)：將作為頁內錨點，在當前頁面跳轉。
            *   以 `http://`, `https://` 或 `//` 開頭 (例如：`https://www.example.com`)：將作為外部鏈接，在新瀏覽器標籤頁中打開。
            *   其他相對路徑 (例如：`/about.html`, `another-page.html`)：將作為站內頁面鏈接，在當前頁面跳轉。

**輸出範例：**

以下是一個簡單的 JSON 輸出範例，包含一個一級標題和一個段落：
```json
{
  "document": {
    "title": "範例文章標題",
    "blocks": [
      {
        "type": "heading",
        "data": {
          "level": 1,
          "text": "這是文章的主標題",
          "anchorId": "main-title-example"
        }
      },
      {
        "type": "paragraph",
        "data": {
          "text": "這是一段普通的文字內容。\n包含一個換行。\n可以包含 **粗體**、****也是粗體**** 或 *斜體*。\n這是一段 [color:red]紅色文字[/color]，以及一段帶有 [bgColor:yellow]黃色背景的文字[/bgColor]。\n最後是 [color:blue,bgColor:lightgray]藍色文字和淺灰色背景[/color]。"
        }
      }
    ]
  }
}
```